<?php

use boctulus\EasyFarmaDespachos\libs\Debug;
use boctulus\EasyFarmaDespachos\libs\Strings;
use boctulus\EasyFarmaDespachos\libs\Products;
// ...


if ( ! defined( 'ABSPATH' ) ) {
	define( 'ABSPATH', realpath(__DIR__ . '/../../..') . DIRECTORY_SEPARATOR);

	require_once ABSPATH . '/wp-config.php';
	require_once ABSPATH .'/wp-load.php';
}

require_once __DIR__ . '/libs/Debug.php';
require_once __DIR__ . '/libs/Strings.php';
require_once __DIR__ . '/libs/Products.php';


if (!function_exists('dd')){
	function dd($val, $msg = null, $pre_cond = null){
		Debug::dd($val, $msg, $pre_cond);
	}
}


global $wpdb;

$cli = (php_sapi_name() == 'cli');


if (!$cli){
	echo "Ejecutar desde la terminal";
}


//$pid = 7845;

// dd(
//     Products::getMetaByPid($pid)
// );

// exit;
// ////

$products = wc_get_products([
    //'status' => 'publish', 
    'limit' => -1
]);

foreach ($products as $_p){
    $pid = $_p->get_id();
    $p = Products::getProduct($pid);

    $sale_price = $p->get_sale_price();

    dd(
        Products::getCustomAttr($pid,)
    );
}











